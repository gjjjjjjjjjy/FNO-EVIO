# TUM-IVE Full Calibration with IMU Bias Parameters
# Official calibration from TUM-IVE dataset
# Reference: https://cvg.cit.tum.de/data/datasets/visual-inertial-event-dataset

value0:
  # ===== Camera Intrinsics (Left Camera - Index 2) =====
  camera:
    width: 1280
    height: 720
    camera_type: kb4
    fx: 1051.3170714099033
    fy: 1051.7952009807022
    cx: 636.1348547903337
    cy: 265.7059221322115
    k1: -0.13104704164707634
    k2: 0.07279844505754081
    k3: -0.21109298825047648
    k4: 0.18493426446978858

  # ===== IMU to Camera Transformation =====
  T_imu_cam:
    px: -0.03513822941032688
    py: 0.059419904220437116
    pz: -0.03250309601838518
    qx: -0.7014249642507441
    qy: 0.7127085610304539
    qz: 0.006829920405162406
    qw: 0.0016966870664725491

  # ===== IMU to Mocap Marker Transformation =====
  T_imu_marker:
    px: 0.06832603321344912
    py: 0.05632920180580076
    pz: 0.07702087383821713
    qx: 0.15902710170228138
    qy: 0.5501575596783017
    qz: 0.21962158829616347
    qw: 0.7898122551640097

  # ===== Mocap to World Transformation =====
  T_mocap_world:
    px: -0.31464960047855469
    py: -1.5129661850976493
    pz: 0.6425083999649643
    qx: -0.008079501053988234
    qy: 0.6844494265401168
    qz: 0.7290149449993467
    qw: 0.0009561062824573487

  # ===== IMU Calibration Parameters (CRITICAL!) =====
  # These parameters are from the official TUM-IVE calibration
  # Single IMU - use first 3 values as bias mean
  calib_accel_bias_mean: [0.4562292427865387, 0.6584524700202368, -1.043232021273333]
  calib_gyro_bias_mean: [-0.035719920892257055, -0.004469273256389828, -0.011351789819366315]

  # IMU Noise Model (for Kalman filtering and uncertainty estimation)
  accel_noise_std: [0.0012, 0.0012, 0.0012]
  gyro_noise_std: [8.4503e-05, 8.4503e-05, 8.4503e-05]
  accel_bias_std: [2.2856e-05, 2.2856e-05, 2.2856e-05]
  gyro_bias_std: [1.1961e-06, 1.1961e-06, 1.1961e-06]

  # IMU sampling rate (Hz)
  imu_update_rate: 200.8431394996191

  # ===== Time Offsets =====
  cam_time_offset_ns: 5114000
  mocap_time_offset_ns: -9879790
  mocap_to_imu_offset_ns: -217102426153
  events_time_offset_ns: 5114000

  # ===== Time Alignment Settings =====
  auto_align_enable: true
  auto_align_threshold_sec: 0.5

  # ===== IMU Data Units =====
  imu_acc_unit: mps2
  imu_gyro_unit: rad
  imu_time_unit: us
  mocap_time_unit: us

  # ===== Dataset Paths =====
  multi_root:
    - ../dataset/TUM-VIE/mocap-6dof
    - ../dataset/TUM-VIE/office-maze
    - ../dataset/TUM-VIE/running-hard
    - ../dataset/TUM-VIE/skate-hard

  imu_path: imu_data.txt
  mocap_path: mocap_data.txt
  events_h5: mocap-6dof-events_left.h5
